<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Join | Crescent City Chamber of Commerce</title>
  <meta name="description" content="Join the Crescent City Chamber of Commerce by filling out the membership application form.">
  <meta name="author" content="Crescent City Chamber of Commerce">

  <!-- Open Graph -->
  <meta property="og:title" content="Crescent City Chamber of Commerce">
  <meta property="og:description" content="Empowering Crescent City's local businesses with resources, connections, and growth opportunities.">
  <meta property="og:image" content="https://impulsible.github.io/wdd231/chamber/images/city.jpeg">
  <meta property="og:url" content="https://impulsible.github.io/wdd231/chamber/directory.html">
  <meta property="og:type" content="website">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Crescent City Chamber of Commerce">
  <meta name="twitter:description" content="Discover opportunities, build connections, and grow your business within a vibrant local network.">
  <meta name="twitter:image" content="https://impulsible.github.io/wdd231/chamber/images/city.jpeg">

  <link rel="icon" href="images/download_1.png" type="image/png">
  <!-- Scripts -->
  <script src="scripts/scripts.js" defer></script>
  <script src="scripts/toggleview.js" defer></script>

  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/styles.css">
  <link rel="stylesheet" href="styles/join.css">
</head>
<body class="join-page">

  <a href="#main-content" class="skip-link">Skip to main content</a>

  <header>
    <div class="header-container">
      <div class="header-logo">
        <img src="images/download.png" alt="Crescent City Chamber Logo" width="150" height="50" loading="lazy">
        <div class="logo-text">
          <span class="main-text">Crescent City</span><br>
          <span class="sub-text">Chamber of Commerce</span>
        </div>
      </div>

      <button class="hamburger" id="hamburgerBtn" aria-label="Toggle navigation" aria-expanded="false" aria-controls="primaryNav">
        ☰
      </button>

      <nav id="primaryNav" aria-label="Primary navigation" role="navigation">
        <ul class="nav-menu">
          <li><a href="index.html">Home</a></li>
          <li><a href="directory.html">Business Directory</a></li>
          <li><a href="join.html" class="active" aria-current="page">Join</a></li>
          <li><a href="membership.html">Membership</a></li>
          <li><a href="discover.html">Discover</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main-content" tabindex="-1">
    <h1>Join the Chamber</h1>

    <div class="container">
      <form class="join-form" method="get" action="thankyou.html" novalidate>
        <label for="firstName">
          First Name
          <input
            type="text"
            id="firstName"
            name="firstName"
            title="Enter your first name"
            autocomplete="given-name"
            required
          >
        </label>

        <label for="lastName">
          Last Name
          <input
            type="text"
            id="lastName"
            name="lastName"
            title="Enter your last name"
            autocomplete="family-name"
            required
          >
        </label>

        <label for="orgTitle">
          Organizational Title
          <input
            type="text"
            id="orgTitle"
            name="orgTitle"
            title="Enter your organizational title (at least 7 characters, letters, spaces or hyphens only)"
            autocomplete="organization-title"
            pattern="^[A-Za-z\s-]{7,}$"
            placeholder="e.g., Marketing Manager"
          >
        </label>

        <label for="email">
          Email Address
          <input
            type="email"
            id="email"
            name="email"
            title="Enter your email address"
            autocomplete="email"
            placeholder="example@email.com"
            required
          >
        </label>

        <label for="mobile">
          Mobile Phone Number
          <input
            type="tel"
            id="mobile"
            name="mobile"
            title="Enter your mobile phone number"
            autocomplete="tel"
            required
          >
        </label>

        <label for="businessName">
          Business / Organization Name
          <input
            type="text"
            id="businessName"
            name="businessName"
            title="Enter your business or organization name"
            autocomplete="organization"
            required
          >
        </label>

        <label for="membershipLevel">
          Membership Level
          <select id="membershipLevel" name="membershipLevel" title="Select your desired membership level" required>
            <option value="" disabled selected>Select a level</option>
            <option value="np">NP Membership (Non Profit)</option>
            <option value="bronze">Bronze Membership</option>
            <option value="silver">Silver Membership</option>
            <option value="gold">Gold Membership</option>
          </select>
        </label>

        <label for="businessDesc">
          Business / Organization Description
          <textarea
            id="businessDesc"
            name="businessDesc"
            title="Describe your business or organization"
            rows="4"
          ></textarea>
        </label>

        <input type="hidden" id="timestamp" name="timestamp">

        <input type="submit" value="Submit Application">
      </form>

      <div class="membership-cards" aria-label="Membership level information">
        <div class="membership-card" tabindex="0">
          <h3>NP Membership (Non Profit)</h3>
          <a href="#" data-modal="modal-np" aria-haspopup="dialog" aria-controls="modal-np">Benefits & Details</a>
        </div>
        <div class="membership-card" tabindex="0">
          <h3>Bronze Membership</h3>
          <a href="#" data-modal="modal-bronze" aria-haspopup="dialog" aria-controls="modal-bronze">Benefits & Details</a>
        </div>
        <div class="membership-card" tabindex="0">
          <h3>Silver Membership</h3>
          <a href="#" data-modal="modal-silver" aria-haspopup="dialog" aria-controls="modal-silver">Benefits & Details</a>
        </div>
        <div class="membership-card" tabindex="0">
          <h3>Gold Membership</h3>
          <a href="#" data-modal="modal-gold" aria-haspopup="dialog" aria-controls="modal-gold">Benefits & Details</a>
        </div>
      </div>
    </div>
  </main>

  <!-- Modals -->
  <div class="modal" id="modal-np" role="dialog" aria-modal="true" aria-labelledby="modal-np-title" tabindex="-1">
    <div class="modal-content">
      <button class="modal-close" aria-label="Close NP Membership modal">&times;</button>
      <h2 id="modal-np-title">NP Membership Benefits</h2>
      <ul>
        <li>No membership fee</li>
        <li>Access to nonprofit networking events</li>
        <li>Free listing in the business directory</li>
      </ul>
    </div>
  </div>

  <div class="modal" id="modal-bronze" role="dialog" aria-modal="true" aria-labelledby="modal-bronze-title" tabindex="-1">
    <div class="modal-content">
      <button class="modal-close" aria-label="Close Bronze Membership modal">&times;</button>
      <h2 id="modal-bronze-title">Bronze Membership Benefits</h2>
      <ul>
        <li>Invitation to exclusive events</li>
        <li>Discounts on workshops</li>
        <li>Basic advertising in newsletters</li>
      </ul>
    </div>
  </div>

  <div class="modal" id="modal-silver" role="dialog" aria-modal="true" aria-labelledby="modal-silver-title" tabindex="-1">
    <div class="modal-content">
      <button class="modal-close" aria-label="Close Silver Membership modal">&times;</button>
      <h2 id="modal-silver-title">Silver Membership Benefits</h2>
      <ul>
        <li>All Bronze benefits</li>
        <li>Priority event sponsorship</li>
        <li>Featured spotlight ads on homepage</li>
      </ul>
    </div>
  </div>

  <div class="modal" id="modal-gold" role="dialog" aria-modal="true" aria-labelledby="modal-gold-title" tabindex="-1">
    <div class="modal-content">
      <button class="modal-close" aria-label="Close Gold Membership modal">&times;</button>
      <h2 id="modal-gold-title">Gold Membership Benefits</h2>
      <ul>
        <li>All Silver benefits</li>
        <li>Premium advertising opportunities</li>
        <li>Free event space</li>
        <li>Exclusive training sessions</li>
      </ul>
    </div>
  </div>

  <footer>
  <p>© <span id="year">2025</span> Crescent City Chamber of Commerce. All rights reserved.</p>
  <p id="last-modified">Last updated: 05/25/2025 20:36:51</p>
</footer>


  <script>
    // Footer year and last modified date
    document.getElementById('year').textContent = new Date().getFullYear();
    document.getElementById('last-modified').textContent = document.lastModified;

    // Highlight current page nav link
    const currentPage = window.location.pathname.split('/').pop();
    document.querySelectorAll('.nav-menu a').forEach(link => {
      if(link.getAttribute('href') === currentPage){
        link.classList.add('active');
      }
    });

    // Set timestamp hidden input value to current date/time
    const timestampInput = document.getElementById('timestamp');
    timestampInput.value = new Date().toISOString();

    // Modal functionality
    const modalLinks = document.querySelectorAll('[data-modal]');
    const modals = document.querySelectorAll('.modal');
    const modalCloseButtons = document.querySelectorAll('.modal-close');

    modalLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const modalId = link.getAttribute('data-modal');
        const modal = document.getElementById(modalId);
        if(modal){
          modal.classList.add('active');
          modal.setAttribute('tabindex', '-1');
          modal.focus();
        }
      });
    });

    modalCloseButtons.forEach(button => {
      button.addEventListener('click', () => {
        const modal = button.closest('.modal');
        modal.classList.remove('active');
      });
    });

    // Close modal on Escape key
    window.addEventListener('keydown', (e) => {
      if(e.key === "Escape"){
        modals.forEach(modal => modal.classList.remove('active'));
      }
    });

    // Trap focus inside modal while open (basic)
    modals.forEach(modal => {
      modal.addEventListener('keydown', (e) => {
        if(e.key === 'Tab'){
          const focusableElements = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
          const firstEl = focusableElements[0];
          const lastEl = focusableElements[focusableElements.length -1];

          if(e.shiftKey){
            if(document.activeElement === firstEl){
              e.preventDefault();
              lastEl.focus();
            }
          } else {
            if(document.activeElement === lastEl){
              e.preventDefault();
              firstEl.focus();
            }
          }
        }
      });
    });
  </script>
  <script>
  // Set timestamp and save form data on submit
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.querySelector(".join-form");
    const timestampField = document.getElementById("timestamp");

    form.addEventListener("submit", function () {
      const formData = {
        firstName: form.elements["firstName"].value,
        lastName: form.elements["lastName"].value,
        orgTitle: form.elements["orgTitle"].value,
        email: form.elements["email"].value,
        mobile: form.elements["mobile"].value,
        businessName: form.elements["businessName"].value,
        membershipLevel: form.elements["membershipLevel"].value,
        businessDesc: form.elements["businessDesc"].value,
        timestamp: new Date().toLocaleString() // ✅ LOCAL time
      };

      // Set hidden timestamp field to local time (optional redundancy)
      timestampField.value = formData.timestamp;

      localStorage.setItem("formData", JSON.stringify(formData));
    });
  });
</script>


</body>
</html>
